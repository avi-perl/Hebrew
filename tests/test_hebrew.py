import pytest

from hebrew import Hebrew
from hebrew.chars import *

taamei_hamikra = [
    "旨职专值砖执转 旨指专指郑 直止执 值芝转 址砖旨指址执 职值芝转 指指专侄抓",
    "职指指专侄抓 指职转指芝 转止旨 指止旨 职止砖侄职 注址志驻旨职值郑 转职止 职专郑旨址 直止执 职专址侄驻侄转 注址志驻旨职值芝 址旨指纸执",
    "址旨止芝侄专 直止执 职执郑 止专 址纸职执志纸止专",
    "址旨址支专职 直止执 侄转志指止专 旨执志止 址旨址职旨值郑 直止执 旨值芝 指止专 旨值芝 址止纸砖侄职",
    "址旨执拽职专指吱 直止执证  指止专 止 职址止砖侄职 拽指郑专指 指职指 址纸职执志注侄芝专侄 址纸职执志止拽侄专 芝止 侄指纸",
    "址旨止郑侄专 直止执 职执芝 专指拽执注址 旨职转郑止职 址旨指执 执执郑 址职旨执 旨值芝 址执 指指纸执",
    "址旨址郑注址砖 直止执之 侄转志指专指拽执注址 址旨址职旨值 旨值证 址旨址执 植砖侄专 执转旨址郑址转 指专指拽执注址 旨值郑 址旨址执 植砖侄专 值注址郑 指专指拽执注址 纸址职执志值纸",
    "址旨执拽职专指支 直止执 指纸专指拽执注址 砖指指执 址纸职执志注侄芝专侄 址纸职执志止拽侄专 芝止 砖值执纸",
    "址旨止郑侄专 直止执 执拽旨指吱旨 址旨址执 执转旨址证址转 址砖旨指址执 侄志指拽郑止 侄指 职转值专指侄 址旨址旨指砖指 址纸职执志值纸",
    "址旨执拽职专指吱 直止执证  址旨址旨指砖指 侄专侄抓 旨职执拽职值芝 址旨址执 拽指专指郑 址旨执 址旨址芝专职 直止执 旨执志纸止",
    "址旨止郑侄专 直止执 转旨址纸职砖值证 指指专侄抓 旨侄砖侄 注值砖侄 址职专执郑注址 侄专址注 注值郑抓 驻旨职专执 注止证砖侄 驻旨职专执 职执止 植砖侄芝专 址专职注止志止 注址志指指专侄抓 址纸职执志值纸",
    "址转旨止爪值吱 指指专侄抓 旨侄砖侄 注值郑砖侄 址职专执证注址 侄专址注 职执值旨 职注值支抓 注止纸砖侄志驻旨职专执 植砖侄芝专 址专职注止志止 职执值旨 址旨址芝专职 直止执 旨执志纸止",
    "纸址职执志注侄芝专侄 纸址职执志止拽侄专 芝止 砖职执砖执纸",
    "址旨止郑侄专 直止执 职执证 职止专止转 旨执专职拽执郑注址 址砖旨指址执 职址职旨执 旨值芝 址旨止 旨值郑 址旨指职指 职指证旨 职止转止转 旨职郑止注植执 旨职指执 职砖指执纸",
    "职指证旨 执职止专止转 旨执专职拽执郑注址 址砖旨指址执 职指执专 注址志指指专侄抓 纸址职执志值纸",
    "址旨址郑注址砖 直止执 侄转志砖职值芝 址旨职止专止转 址旨职止执 侄转志址旨指证止专 址旨指止 职侄职砖侄郑侄转 址旨止 职侄转志址旨指证止专 址拽旨指止 职侄职砖侄郑侄转 址旨址职指 职值转 址旨止指执纸",
    "址旨执转旨值芝 止转指 直止执 旨执专职拽执郑注址 址砖旨指指执 职指执专 注址志指指纸专侄抓",
    "职执职砖止 旨址旨郑止 旨址旨址职指 旨纸植址职旨执 旨值芝 指止专 旨值郑 址止砖侄职 址旨址芝专职 直止执 旨执志纸止",
    "址纸职执志注侄芝专侄 址纸职执志止拽侄专 芝止 专职执注执纸",
    "址旨止郑侄专 直止执 执砖职专职爪郑旨 址旨址执 砖侄专侄抓 侄郑驻侄砖 址旨指 职注止祝 职注止驻值郑祝 注址志指指专侄抓 注址志驻旨职值 专职拽执芝注址 址砖旨指指纸执",
    "址旨执职专指郑 直止执 侄转志址转旨址旨执执 址旨职止执 职值郑转 旨指志侄郑驻侄砖 纸址址旨指郑  指纸专止侄帧砖侄转 植砖侄专蜘 砖指专职爪吱旨 址旨址执 职执纸值侄 职值吱转 旨指志注证止祝 旨指指祝 职执值旨 址旨址芝专职 直止执 旨执志纸止",
    "址职指支专侄职 止转指 直止执 值止专 驻旨职专郑旨 旨专职旨 旨执职证旨 侄转志址旨址执 旨址旨址旨执 职指注止祝 执芝专侄 旨指指纸专侄抓",
    "址纸职执志注侄芝专侄 址纸职执志止拽侄专 芝止 植执砖执纸",
    "址旨止郑侄专 直止执 转旨止爪值吱 指指专侄抓 侄证驻侄砖 址旨指 职执指旨 旨职值指芝 指专侄侄砖 职址纸职转止志侄专侄抓 职执指旨 址纸职执志值纸",
    "址旨址郑注址砖 直止执蜘 侄转志址旨址吱转 指指专侄抓 职执指旨 职侄转志址旨职值指 职执指旨 职值转 旨指志专侄芝侄砖 指纸植指指 职执值旨 址旨址芝专职 直止执 旨执志纸止",
    "址旨止郑侄专 直止执 址纸注植砖侄芝 指指 旨职爪址职值旨 旨执职旨转值旨 职执专职旨旨蜘 执职址吱转 址旨指 旨职注郑止祝 址砖旨指址执 旨址旨职值指 旨职指志指指专侄抓 旨职指志指专侄侄砖 纸指专止值芝砖 注址志指指纸专侄抓",
    "址旨执职专指吱 直止执证  侄转志纸指指指 旨职爪址职止 旨职爪侄芝侄 直止执 旨指专指郑 止转止 指指芝专 旨职拽值指 旨指专指芝 止转指纸",
    "址职指郑专侄职 止转指之 直止执 址旨止吱侄专 指侄 直止执 驻旨职专芝旨 旨专职旨 旨执职芝旨 侄转志指指专侄抓 职执职砖只指 旨专职旨 旨执职址证转 址旨指 旨职注郑止祝 址砖旨指址执 旨职指志址旨指 纸指专止侄芝砖侄转 注址志指指纸专侄抓",
    "址旨止郑侄专 直止执 执旨值蜘 指转址吱转旨执 指侄 侄转志旨指志注值郑砖侄  止专值郑注址 侄专址注 植砖侄专 注址志驻旨职值郑 指志指指专侄抓 职侄转志旨指志指注值抓 植砖侄专志旨芝止 驻职专执志注值抓 止专值郑注址 指专址注 指侄芝 执纸职侄 职指职指纸",
    "旨纸职指志址旨址郑转 指指专侄抓 旨职指志注吱止祝 址砖旨指址执 旨职止郑  专止值郑砖 注址志指指专侄抓 植砖侄专志旨止 侄郑驻侄砖 址旨指 侄转志旨指志侄芝专侄拽 注值砖侄 职指职指 址纸职执志值纸",
    "址旨址证专职 直止执 侄转志旨指志植砖侄郑专 注指砖指 职执旨值志止 职止 纸址职执志注侄芝专侄 纸址职执志止拽侄专 芝止 址砖旨执砖旨执纸",
]

nikkud = [
    "旨职专值砖执转 旨指专指 直止执 值转 址砖旨指址执 职值转 指指专侄抓",
    "职指指专侄抓 指职转指 转止旨 指止旨 职止砖侄职 注址志驻旨职值 转职止 职专旨址 直止执 职专址侄驻侄转 注址志驻旨职值 址旨指执",
    "址旨止侄专 直止执 职执 止专 址职执志止专",
    "址旨址专职 直止执 侄转志指止专 旨执志止 址旨址职旨值 直止执 旨值 指止专 旨值 址止砖侄职",
    "址旨执拽职专指 直止执 指止专 止 职址止砖侄职 拽指专指 指职指 址职执志注侄专侄 址职执志止拽侄专 止 侄指",
    "址旨止侄专 直止执 职执 专指拽执注址 旨职转止职 址旨指执 执执 址职旨执 旨值 址执 指指执",
    "址旨址注址砖 直止执 侄转志指专指拽执注址 址旨址职旨值 旨值 址旨址执 植砖侄专 执转旨址址转 指专指拽执注址 旨值 址旨址执 植砖侄专 值注址 指专指拽执注址 址职执志值",
    "址旨执拽职专指 直止执 指专指拽执注址 砖指指执 址职执志注侄专侄 址职执志止拽侄专 止 砖值执",
    "址旨止侄专 直止执 执拽旨指旨 址旨址执 执转旨址址转 址砖旨指址执 侄志指拽止 侄指 职转值专指侄 址旨址旨指砖指 址职执志值",
    "址旨执拽职专指 直止执 址旨址旨指砖指 侄专侄抓 旨职执拽职值 址旨址执 拽指专指 址旨执 址旨址专职 直止执 旨执志止",
    "址旨止侄专 直止执 转旨址职砖值 指指专侄抓 旨侄砖侄 注值砖侄 址职专执注址 侄专址注 注值抓 驻旨职专执 注止砖侄 驻旨职专执 职执止 植砖侄专 址专职注止志止 注址志指指专侄抓 址职执志值",
    "址转旨止爪值 指指专侄抓 旨侄砖侄 注值砖侄 址职专执注址 侄专址注 职执值旨 职注值抓 注止砖侄志驻旨职专执 植砖侄专 址专职注止志止 职执值旨 址旨址专职 直止执 旨执志止",
    "址职执志注侄专侄 址职执志止拽侄专 止 砖职执砖执",
    "址旨止侄专 直止执 职执 职止专止转 旨执专职拽执注址 址砖旨指址执 职址职旨执 旨值 址旨止 旨值 址旨指职指 职指旨 职止转止转 旨职止注植执 旨职指执 职砖指执",
    "职指旨 执职止专止转 旨执专职拽执注址 址砖旨指址执 职指执专 注址志指指专侄抓 址职执志值",
    "址旨址注址砖 直止执 侄转志砖职值 址旨职止专止转 址旨职止执 侄转志址旨指止专 址旨指止 职侄职砖侄侄转 址旨止 职侄转志址旨指止专 址拽旨指止 职侄职砖侄侄转 址旨址职指 职值转 址旨止指执",
    "址旨执转旨值 止转指 直止执 旨执专职拽执注址 址砖旨指指执 职指执专 注址志指指专侄抓",
    "职执职砖止 旨址旨止 旨址旨址职指 旨植址职旨执 旨值 指止专 旨值 址止砖侄职 址旨址专职 直止执 旨执志止",
    "址职执志注侄专侄 址职执志止拽侄专 止 专职执注执",
    "址旨止侄专 直止执 执砖职专职爪旨 址旨址执 砖侄专侄抓 侄驻侄砖 址旨指 职注止祝 职注止驻值祝 注址志指指专侄抓 注址志驻旨职值 专职拽执注址 址砖旨指指执",
    "址旨执职专指 直止执 侄转志址转旨址旨执执 址旨职止执 职值转 旨指志侄驻侄砖 址址旨指 指专止侄砖侄转 植砖侄专 砖指专职爪旨 址旨址执 职执值侄 职值转 旨指志注止祝 旨指指祝 职执值旨 址旨址专职 直止执 旨执志止",
    "址职指专侄职 止转指 直止执 值止专 驻旨职专旨 旨专职旨 旨执职旨 侄转志址旨址执 旨址旨址旨执 职指注止祝 执专侄 旨指指专侄抓",
    "址职执志注侄专侄 址职执志止拽侄专 止 植执砖执",
    "址旨止侄专 直止执 转旨止爪值 指指专侄抓 侄驻侄砖 址旨指 职执指旨 旨职值指 指专侄侄砖 职址职转止志侄专侄抓 职执指旨 址职执志值",
    "址旨址注址砖 直止执 侄转志址旨址转 指指专侄抓 职执指旨 职侄转志址旨职值指 职执指旨 职值转 旨指志专侄侄砖 指植指指 职执值旨 址旨址专职 直止执 旨执志止",
    "址旨止侄专 直止执 址注植砖侄 指指 旨职爪址职值旨 旨执职旨转值旨 职执专职旨旨 执职址转 址旨指 旨职注止祝 址砖旨指址执 旨址旨职值指 旨职指志指指专侄抓 旨职指志指专侄侄砖 指专止值砖 注址志指指专侄抓",
    "址旨执职专指 直止执 侄转志指指指 旨职爪址职止 旨职爪侄侄 直止执 旨指专指 止转止 指指专 旨职拽值指 旨指专指 止转指",
    "址职指专侄职 止转指 直止执 址旨止侄专 指侄 直止执 驻旨职专旨 旨专职旨 旨执职旨 侄转志指指专侄抓 职执职砖只指 旨专职旨 旨执职址转 址旨指 旨职注止祝 址砖旨指址执 旨职指志址旨指 指专止侄砖侄转 注址志指指专侄抓",
    "址旨止侄专 直止执 执旨值 指转址转旨执 指侄 侄转志旨指志注值砖侄 止专值注址 侄专址注 植砖侄专 注址志驻旨职值 指志指指专侄抓 职侄转志旨指志指注值抓 植砖侄专志旨止 驻职专执志注值抓 止专值注址 指专址注 指侄 执职侄 职指职指",
    "旨职指志址旨址转 指指专侄抓 旨职指志注止祝 址砖旨指址执 旨职止 专止值砖 注址志指指专侄抓 植砖侄专志旨止 侄驻侄砖 址旨指 侄转志旨指志侄专侄拽 注值砖侄 职指职指 址职执志值",
    "址旨址专职 直止执 侄转志旨指志植砖侄专 注指砖指 职执旨值志止 职止 址职执志注侄专侄 址职执志止拽侄专 止 址砖旨执砖旨执",
]

text_only = [
    "专砖转 专  转 砖 转 专抓",
    "专抓 转 转  砖 注志驻 转 专  专驻转 注志驻 ",
    "专   专 志专",
    "专  转志专 志    专  砖",
    "拽专  专  砖 拽专  志注专 志拽专  ",
    "专   专拽注 转      ",
    "注砖  转志专拽注    砖专 转转 专拽注   砖专 注 专拽注 志",
    "拽专  专拽注 砖 志注专 志拽专  砖",
    "专  拽  转转 砖 志拽  转专 砖 志",
    "拽专  砖 专抓 拽  拽专  专  志",
    "专  转砖 专抓 砖 注砖 专注 专注 注抓 驻专 注砖 驻专  砖专 专注志 注志专抓 志",
    "转爪 专抓 砖 注砖 专注 专注  注抓 注砖志驻专 砖专 专注志  专  志",
    "志注专 志拽专  砖砖",
    "专   专转 专拽注 砖       转转 注  砖",
    " 专转 专拽注 砖 专 注志专抓 志",
    "注砖  转志砖 专转  转志专  砖转  转志专 拽 砖转  转 ",
    "转 转  专拽注 砖 专 注志专抓",
    "砖     专  砖 专  志",
    "志注专 志拽专  专注",
    "专  砖专爪  砖专抓 驻砖  注祝 注驻祝 注志专抓 注志驻 专拽注 砖",
    "专  转志转  转 志驻砖  专砖转 砖专 砖专爪   转 志注祝 祝  专  志",
    "专 转  专 驻专 专  转志  注祝 专 专抓",
    "志注专 志拽专  砖",
    "专  转爪 专抓 驻砖    专砖 转志专抓  志",
    "注砖  转志转 专抓  转志  转 志专砖   专  志",
    "专  注砖  爪 转 专 转  注祝 砖  志专抓 志专砖 专砖 注志专抓",
    "专  转志 爪 爪  专 转 专 拽 专 转",
    "专 转  专   驻专 专  转志专抓 砖 专 转  注祝 砖 志 专砖转 注志专抓",
    "专   转转  转志志注砖 专注 专注 砖专 注志驻 志专抓 转志志注抓 砖专志 驻专志注抓 专注 专注   ",
    "志转 专抓 志注祝 砖  专砖 注志专抓 砖专志 驻砖  转志志专拽 注砖  志",
    "专  转志志砖专 注砖 志  志注专 志拽专  砖砖",
]


def test_str():
    hs = Hebrew("旨职专值砖执转")
    assert hs.__str__() == "旨职专值砖执转"


def test_repr():
    hs = Hebrew("旨职专值砖执转")
    assert hs.__repr__() == "旨职专值砖执转"


@pytest.mark.parametrize("pasuk", [(p) for p in taamei_hamikra])
def test_as_str(pasuk):
    hs = Hebrew(pasuk)
    assert hs.string == pasuk


@pytest.mark.parametrize("pasuk", [(p) for p in taamei_hamikra])
def test_no_maqaf(pasuk):
    assert Hebrew(pasuk).no_maqaf().string == pasuk.replace(MAQAF.char, " ")


@pytest.mark.parametrize("pasuk", [(p) for p in taamei_hamikra])
def test_no_sof_passuk(pasuk):
    assert Hebrew(pasuk).no_sof_passuk().string == pasuk.replace(SOF_PASSUK.char, "")


@pytest.mark.parametrize(
    "pasuk,pasuk_text_only", [p for p in zip(taamei_hamikra, text_only)]
)
def test_text_only(pasuk, pasuk_text_only):
    hs = Hebrew(pasuk)
    assert hs.text_only(remove_maqaf=False).string == pasuk_text_only
    assert hs.text_only(remove_maqaf=True).string == pasuk_text_only.replace(
        MAQAF.char, " "
    )


def test_text_only_with_other_chars():
    hs = Hebrew(
        "In the beginning of this text is english followed by 旨职专值砖执转\tCool, eh? "
    )
    assert (
        hs.text_only().string
        == "In the beginning of this text is english followed by 专砖转\tCool, eh? "
    )


def test_words():
    pasuk = Hebrew(taamei_hamikra[1])
    assert len(pasuk.words(split_maqaf=False)) == 12
    assert len(pasuk.words(split_maqaf=True)) == 14


def test_no_niqqud():
    hs = Hebrew("址纸职执志注侄芝专侄 址纸职执志止拽侄专 芝止 专职执注执纸")
    assert hs.no_niqqud().string == "纸志注芝专 纸志拽专 芝 专注纸"


def test_no_taamim():
    hs = Hebrew(taamei_hamikra[1])
    assert hs.no_taamim(remove_maqaf=False, remove_sof_passuk=False).string == nikkud[1]
    assert hs.no_taamim(remove_maqaf=False, remove_sof_passuk=True).string == nikkud[
        1
    ].replace(SOF_PASSUK.char, "")
    assert hs.no_taamim(remove_maqaf=True, remove_sof_passuk=False).string == nikkud[
        1
    ].replace(MAQAF.char, " ")
